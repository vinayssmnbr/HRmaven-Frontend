<app-header></app-header>
<app-sidebar></app-sidebar>
<div class="leaves">
    <div class="row">
        <div class="col-3">
            <div class="card">
                <div class="progress-text">
                    <h3>Total Leaves</h3>
                    <h1>{{totalCount}}</h1>
                </div>
                <div role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="--value:10">
                </div>
            </div>
        </div>
        <div class="col-3">
            <div class="card">
                <div class="progress-text">
                    <h3>Accepted Leaves</h3>
                    <h1>{{acceptCount}}</h1>
                </div>
                <div role="progressbar1" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="--value:50">
                </div>
            </div>
        </div>
        <div class="col-3">
            <div class="card">
                <div class="progress-text">
                    <h3>Rejected Leaves</h3>
                    <h1>{{rejectCount}}</h1>
                </div>
                <div role="progressbar2" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="--value:80">
                </div>
            </div>
        </div>
        <div class="col-3">
            <div class="card">
                <div class="progress-text">
                    <h3>Pending Leaves</h3>
                    <h1>{{pendingCount}}</h1>
                </div>
                <div role="progressbar3" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="--value:100">
                </div>
            </div>
        </div>
    </div>
    <div class="search_form">
        <div class="search_heading">
            <div class="search_title">
                <h3>Search <span>(Please specify your search)</span></h3>
            </div>
            <div class="select-btn">
                <i class="bx bx-chevron-down"></i>
            </div>
        </div>
        <form action="" class="employe_form">
            <div class="employe_form_input">
                <div class="col-3">
                    <div class="form__group">
                        <label for="date">Form</label>
                        <input type="date" />
                    </div>
                </div>
                <div class="col-3">
                    <div class="form__group">
                        <label for="date">To</label>
                        <input type="date" />
                    </div>
                </div>
                <div class="col-3">

                    <div class="form__group">
                        <label for="dropdown_container">Category</label>
                        <div class="dropdown_container" (mouseleave)="contentdropdown = false">
                            <div class="dropdwon_select" (click)="dropdownOpen()">
                                <p>{{Selectvariable}}</p>
                                <i class="fa-sharp fa-solid fa-caret-down"></i>
                            </div>
                            <div class="select_content" *ngIf="contentdropdown">
                                <ul>
                                    <li *ngFor="let arr of array; index as i"
                                        [class.select_active]="i === colorvariable" (click)="Changeselect(arr)">
                                        {{arr.name}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form__group">
                        <label for="">Type</label>
                        <div class="dropdown_container" (mouseleave)="contentdropdown1 = false">
                            <div class="dropdwon_select" (click)="dropdownOpen1()">
                                <p>{{Selectvariable1}}</p>
                                <i class="fa-sharp fa-solid fa-caret-down"></i>
                            </div>
                            <div class="select_content" *ngIf="contentdropdown1">
                                <ul>
                                    <li *ngFor="let arr1 of array1; index as i"
                                        [class.select_active]="i === colorvariable" (click)="Changeselect1(arr1)">
                                        {{arr1.name}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form_btn">
                <button class="cancel_btn">Cancel</button>
                <button class="search_btn">Search</button>
            </div>
        </form>
    </div>
    <!--------------------- List Item----------------- -->
    <div class="list_nav">
        <div class="Pending" [class.color]="id ==='Pending'" (click)="tabChange('Pending')">
            <p>Pending</p>
        </div>
        <div class="Approved" [class.color]="id ==='Approved'" (click)="tabChange('Approved')">
            <p>Approved</p>
        </div>
        <div class="Rejected" [class.color]="id ==='Rejected'" (click)="tabChange('Rejected')">
            <p>Rejected</p>
        </div>
    </div>
    <!-- -----------------------Table--------------------- -->
    <div class="leaves_table">
        <table class="table_text">
            <thead>
                <tr class="table_heading">
                    <th>
                        <div class="check_box">
                            <input type="checkbox" [(ngModel)]="parentSelector" [value]="-1"
                                (change)="onChange($event)">
                            <span>EMPLOYEE ID</span>
                        </div>
                    </th>
                    <th>EMPLOYEE NAME</th>
                    <th>Applied On</th>
                    <th>FROM</th>
                    <th>TO</th>
                    <th>Duration</th>
                    <th>Category</th>
                    <th>REASON</th>
                    <th>Balance</th>
                    <th class="table_slide" *ngIf="!showSearchBox"></th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let n of row">
                    <td scope="row">
                        <input class="form-check-input" type="checkbox" [value]="n.id" [checked]="n.select"
                            (change)="onChange($event)" />
                    </td>
                    <td>{{ n.name }}</td>
                    <td>
                        <p class="mt20">
                            <span class="tooltip"
                                data-tooltip="I found what I need. And it's not friends, it's things  not friends, it's things not friends, it's things not friends, it's things not friends, it's things. I found what I need. And it's not friends, it's things  "
                                data-tooltip-pos="right" data-tooltip-length="medium">I have to attend some family
                                f...</span>
                        </p>
                    </td>
                    <td>4/6</td>
                    <td class="table_slide">
                        <div class="check_box_icon">
                            <div class="thick_round">
                                <label for="checkbox" (click)="openModal()"></label>
                              </div>
                               <div class="cross_round">
                                <label for="checkbox" (click)="openModal1()"></label>
                              </div>
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>
    <div class="table_btn" *ngIf="showSearchBox">
        <button class="accept_btn">Accept All</button>
        <button class="reject_btn">Reject All</button>
    </div>


    <!--------------------- Leave a comment Modal Accepet--------------- -->
    <form class="leave_form" *ngIf="showModal">
        <div class="leave_modal">
            <i class="fa-solid fa-xmark" (click)="closeModal()"></i>
            <h3>Leave a comment</h3>
            <textarea placeholder="Type your reason here..."></textarea>
            <div class="leave_form_btn">
                <button class="cancel_btn" (click)="closeModal()">Cancel</button>
                <button class="Done_btn" (click)="openModal2()">Done</button>
            </div>
        </div>
    </form>
    <!--------------------- Leave a comment Modal Reject--------------- -->
    <form class="leave_form" *ngIf="showModal1">
        <div class="leave_modal">
            <i class="fa-solid fa-xmark" (click)="closeModal()"></i>
            <h3>Leave a comment</h3>
            <textarea placeholder="Type your reason here..."></textarea>
            <div class="leave_form_btn">
                <button class="cancel_btn" (click)="closeModal()">Cancel</button>
                <button class="Done_btn" (click)="openModal3()">Done</button>
            </div>
        </div>
    </form>

    <!-- -------------------------Leaves approved successfully! Modal---------------------- -->


    <form class="leave_approved_form" *ngIf="showModal2">
        <div class="leave_approved_modal">
            <i class="fa-solid fa-xmark" (click)="closeModal()"></i>
            <div class="logo_bg">
                <img src="assets/images/tick.png" alt="image">
            </div>
            <h4>Leaves approved successfully!</h4>
            <p>Click on the close button to go back to leave section.</p>
            <div class="Done_form_btn">
                <button class="Done_btn" (click)="closeModal()">Done</button>
            </div>
        </div>
    </form>
    <!-- -------------------------Leaves rejected Modal---------------------- -->


    <form class="leave_approved_form" *ngIf="showModal3">
        <div class="leave_approved_modal">
            <i class="fa-solid fa-xmark" (click)="closeModal()"></i>
            <div class="logo_bg">
                <img src="assets/images/tick.png" alt="image">
            </div>
            <h4>Leaves rejected successfully!</h4>
            <p>Click on the close button to go back to leave section.</p>
            <div class="Done_form_btn">
                <button class="Done_btn" (click)="closeModal()">Done</button>
            </div>
        </div>
    </form>

</div>